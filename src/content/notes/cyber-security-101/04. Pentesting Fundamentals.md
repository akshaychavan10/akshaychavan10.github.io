---
title: "04. Pentesting Fundamentals"
section: "cyber-security-101"
date: 2022-02-22
tags: ["pentesting", "rules of engagement"]
---

## what is penetration testing

Penetration testing, or pentesting, is an ethically driven process used to test and analyze the security defenses of a system or application. It involves simulating an attack using tools, techniques, and methodologies that a malicious hacker might employ.

## Penetration Testing Ethics

The battle between legality and ethics in cybersecurity, specifically in penetration testing, is controversial. The negative connotations associated with terms like "hacking" and "hacker" in popular culture have created misconceptions. 

Penetration testing is an authorized audit of a computer system's security and any actions outside of this agreement are considered unauthorized. 

Before a penetration test begins, a formal discussion takes place between the tester and the system owner to determine the scope of the test. Companies offering penetration testing services must adhere to legal frameworks and industry accreditation. 

While an action may be legally permissible, it can still be ethically questionable. Penetration testers are often faced with decisions that may go against their personal beliefs, such as accessing sensitive data or performing phishing attacks.

Hackers are categorized into three "hats" based on their ethics and motivations:

|Hat Type|Description|
|---|---|
|**White Hat**|Ethical hackers who conduct authorized testing to improve security.|
|**Black Hat**|Malicious hackers who exploit systems for personal gain or to cause harm.|
|**Gray Hat**|Hackers who may break laws or ethical standards but without malicious intent, often to expose vulnerabilities.|

### Rules of Engagement (ROE)

ROE is a document for penetration testing with three main sections that determine how the engagement is conducted, example from SANS institute provided [online](https://sansorg.egnyte.com/dl/bF4I3yCcnt/?) .

| **Section** | **Description**                                                                                                                                                                                                                                      |
| ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Permission  | This section of the document gives explicit permission for the engagement to be carried out. This permission is essential to legally protect individuals and organisations for the activities they carry out.                                        |
| Test Scope  | This section of the document will annotate specific targets to which the engagement should apply. For example, the penetration test may only apply to certain servers or applications but not the entire network.                                    |
| Rules       | The rules section will define exactly the techniques that are permitted during the engagement. For example, the rules may specifically state that techniques such as phishing attacks are prohibited, but MITM (Man-in-the-Middle) attacks are okay. |

## Penetration Testing Methodogies
Penetration tests vary in objectives and targets, so each test requires a unique approach. The methodology used by a penetration tester should be tailored to the specific situation, as different circumstances call for different steps.

| **Stage**             | **Description**                                                                                                                                                                                                                                                                                                                                                                  |
| --------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Information Gathering | This stage involves collecting as much publically accessible information about a target/organisation as possible, for example, OSINT and research.<br><br>**Note:** This does not involve scanning any systems.                                                                                                                                                                  |
| Enumeration/Scanning  | This stage involves discovering applications and services running on the systems. For example, finding a web server that may be potentially vulnerable.                                                                                                                                                                                                                          |
| Exploitation          | This stage involves leveraging vulnerabilities discovered on a system or application. This stage can involve the use of public exploits or exploiting application logic.                                                                                                                                                                                                         |
| Privilege Escalation  | Once you have successfully exploited a system or application (known as a foothold), this stage is the attempt to expand your access to a system. You can escalate horizontally and vertically, where horizontally is accessing another account of the same permission group (i.e. another user), whereas vertically is that of another permission group (i.e. an administrator). |
| Post-exploitation     | This stage involves a few sub-stages:  <br><br>**1.** What other hosts can be targeted (pivoting)<br><br>**2.** What additional information can we gather from the host now that we are a privileged user<br><br>**3.**  Covering your tracks<br><br>**4.** Reporting                  |


### OSSTMM

[The Open Source Security Testing Methodology Manual](https://www.isecom.org/OSSTMM.3.pdf) provides a detailed framework of testing strategies for systems,software, application, communications and the hman aspect of cybersecurity.

The methodology focuses primarily on how these system, application communicate so it includes methodology for:

1. Telecomunications(phones,VoIP, etc)
2. Wired Networks
3. Wireless Communications

### OWASP

The [Open Web Application Security Project](https://owasp.org/) is community-driven framework used solely to test the security of web applications and services.

### NIST Cybersecurity Framework 1.1

The [NIST Cybersecurity Framework](https://www.nist.gov/cyberframework) is a popular framework used to improve an organisations cybersecurity standards and manage the risk of cyber threats.

### NCSC CAF

The [Cyber Assessment Framework](https://www.ncsc.gov.uk/collection/caf/caf-principles-and-guidance) (CAF) is an extensive framework of fourteen principles used to assess the risk of various cyber threats and an organisation's defences against these.

The framework applies to organisations considered to perform "vitally important services and activities" such as critical infrastructure, banking, and the likes. The framework mainly focuses on and assesses the following topics:

- Data security
- System security
- Identity and access control
- Resiliency
- Monitoring
- Response and recovery planning

## Black Box, White box , Grey box penetration Testing

**Black box testing**

Black box testing, also known as external testing, involves evaluating a system without any prior knowledge of its internal workings. The tester only knows what is publicly available and uses this information to attempt to penetrate the system from an external perspective.


**White box testing**

White box testing, also known as internal testing or clear box testing, involves evaluating the internal structures, design, and workings of a system. The tester has full access to the source code, architecture, and documentation.


**Grey box testing**

Grey box testing is a hybrid approach that combines elements of both black box and white box testing. The tester has partial knowledge of the internal workings of the system, which might include some internal documentation or limited access to the source code.



